(this.webpackJsonpcountries_info=this.webpackJsonpcountries_info||[]).push([[0],{17:function(e,t,n){e.exports=n(30)},22:function(e,t,n){},23:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(11),o=n.n(i),c=(n(22),n(4)),s=n(9),u=n(7),l=n(8),p=(n(23),n(5)),h=n(6),b=n(10),m=n.n(b),f=n(13),d=n(3),v=n(2),y=(n(14),"https://restcountries.eu/rest/v2");function g(){return O.apply(this,arguments)}function O(){return(O=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(y,"/all"));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var j,L,w,C,E,I,k,_,S,x=n(1),K=(j=function e(){var t=this;Object(c.a)(this,e),Object(d.a)(this,"countryList",L,this),Object(d.a)(this,"selectedCountry",w,this),Object(d.a)(this,"isLoad",C,this),this.getCountryList=Object(f.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoad=!1,e.next=4,g();case 4:n=e.sent,t.setCountryList(n);case 6:return e.prev=6,t.isLoad=!0,e.finish(6);case 9:case"end":return e.stop()}}),e,null,[[0,,6,9]])}))),Object(d.a)(this,"setCountryList",E,this),Object(d.a)(this,"setSelectedCountry",I,this),this.countryList=[]},L=Object(v.a)(j.prototype,"countryList",[x.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=Object(v.a)(j.prototype,"selectedCountry",[x.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=Object(v.a)(j.prototype,"isLoad",[x.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),E=Object(v.a)(j.prototype,"setCountryList",[x.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.countryList=t}}}),I=Object(v.a)(j.prototype,"setSelectedCountry",[x.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.selectedCountry=e.countryList.find((function(e){return e.alpha3Code===t}))}}}),j),z={en:{translation:{Flag:"Flag",Country:"Country",Population:"Population",Capital:"Capital",Search:"Search",Borders:"Borders"}},ru:{translation:{Flag:"\u0424\u043b\u0430\u0433",Country:"\u0421\u0442\u0440\u0430\u043d\u0430",Population:"\u041d\u0430\u0441\u0435\u043b\u0435\u043d\u0438\u0435",Capital:"\u0421\u0442\u043e\u043b\u0438\u0446\u0430",Search:"\u041f\u043e\u0438\u0441\u043a"}},fr:{translation:{Flag:"Drapeau",Country:"Pays",Population:"Population",Capital:"Capitale",Search:"Chercher"}}},N="lang",F="en",P=(k=function(){function e(){var t=this;Object(c.a)(this,e),Object(d.a)(this,"currentLanguage",_,this),this.defaultLangLabels=void 0,this.dictionary=void 0,Object(d.a)(this,"setCurrentLanguage",S,this),this.setLangToLocalStorage=Object(x.e)((function(){t.currentLanguage&&window.localStorage.setItem(N,t.currentLanguage)}));var n=window.localStorage.getItem(N);n||(n=F,window.localStorage.setItem(N,n)),this.currentLanguage=n,this.defaultLangLabels=z[F],this.dictionary=z}return Object(p.a)(e,[{key:"currentLangLabels",get:function(){var e=z[this.currentLanguage];return e||{translation:{}}}}]),e}(),_=Object(v.a)(k.prototype,"currentLanguage",[x.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(v.a)(k.prototype,"currentLangLabels",[x.f],Object.getOwnPropertyDescriptor(k.prototype,"currentLangLabels"),k.prototype),S=Object(v.a)(k.prototype,"setCurrentLanguage",[x.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.currentLanguage=t}}}),k),A=new K,B=new P,H={countriesStore:A,languageStore:B};function R(e){var t=B.currentLangLabels.translation[e];return(t=t||B.defaultLangLabels.translation[e])||""}n(27);var D,M,T,U,V,J,W,q,$,G,Q,X,Y,Z,ee,te=Object(h.c)(D=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).renderBordersList=function(e){if(e&&e.length>0){var t=n.props,a=t.countryList,i=t.setSelectedCountry,o=e.map((function(e){var t=a.find((function(t){return t.alpha3Code===e}));return r.a.createElement("li",{key:e,onClick:function(){return i(e)}},t?t.name:e)}));return r.a.createElement("div",null,R("Borders"),r.a.createElement("ul",{className:"country-info__borders-list"},o))}return null},n}return Object(l.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.flag,a=e.population,i=e.capital,o=e.borders,c=this.renderBordersList(o);return r.a.createElement("section",{className:"country-info"},n&&r.a.createElement("img",{src:n,alt:R("Flag"),className:"country-info__flag"}),r.a.createElement("div",{className:"country-info__description-container"},t&&r.a.createElement("div",null,R("Country"),": ",t),i&&r.a.createElement("div",null,R("Capital"),": ",i),a&&r.a.createElement("div",null,R("Population"),": ",a),c))}}]),t}(r.a.Component))||D,ne=n(12),ae=(n(28),M=function(){function e(t){Object(c.a)(this,e),this.maxCount=10,Object(d.a)(this,"showList",T,this),Object(d.a)(this,"value",U,this),Object(d.a)(this,"list",V,this),Object(d.a)(this,"activeItemKey",J,this),Object(d.a)(this,"setShowList",W,this),Object(d.a)(this,"setValue",q,this),Object(d.a)(this,"setList",$,this),Object(d.a)(this,"setActiveItemKey",G,this),Object(d.a)(this,"moveActiveItem",Q,this),t.maxCount&&(this.maxCount=t.maxCount),this.list=t.list}return Object(p.a)(e,[{key:"displayList",get:function(){if(""===this.value)return[];var e=this.value.toUpperCase(),t=this.list.filter((function(t){return t.value.toUpperCase().includes(e)}));return t.length>this.maxCount&&(t.length=this.maxCount),t}},{key:"activeItemIndex",get:function(){var e=this;return this.displayList.findIndex((function(t){return t.key===e.activeItemKey}))}}]),e}(),T=Object(v.a)(M.prototype,"showList",[x.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),U=Object(v.a)(M.prototype,"value",[x.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),V=Object(v.a)(M.prototype,"list",[x.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=Object(v.a)(M.prototype,"activeItemKey",[x.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Object(v.a)(M.prototype,"displayList",[x.f],Object.getOwnPropertyDescriptor(M.prototype,"displayList"),M.prototype),Object(v.a)(M.prototype,"activeItemIndex",[x.f],Object.getOwnPropertyDescriptor(M.prototype,"activeItemIndex"),M.prototype),W=Object(v.a)(M.prototype,"setShowList",[x.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.showList=t,e.activeItemKey=""}}}),q=Object(v.a)(M.prototype,"setValue",[x.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.value=t,e.activeItemKey=""}}}),$=Object(v.a)(M.prototype,"setList",[x.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.list=t,e.activeItemKey=""}}}),G=Object(v.a)(M.prototype,"setActiveItemKey",[x.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.activeItemKey=t}}}),Q=Object(v.a)(M.prototype,"moveActiveItem",[x.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){if(e.displayList.length>0){var n=-1!==e.activeItemIndex?(e.activeItemIndex+t+e.displayList.length)%e.displayList.length:1===t?0:e.displayList.length-1;e.activeItemKey=e.displayList[n].key}}}}),M),re=Object(h.c)((Z=Y=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).store=void 0,n.handlerReaction=void 0,n.toggleContainer=r.a.createRef(),n.inputRef=r.a.createRef(),n.timeOutId=void 0,n.onKeyAction=function(e){var t=n.store.moveActiveItem;switch(e.key){case"ArrowDown":t(1);break;case"ArrowUp":t(-1);break;case"Enter":""!==n.store.activeItemKey&&(n.selectElement(n.store.activeItemKey),n.inputRef.current&&n.inputRef.current.blur());break;case"Escape":n.inputRef.current&&n.inputRef.current.blur()}},n.onChange=function(e){var t=e.target.value?e.target.value:"",a=n.props.onChange;n.store.setValue(t),a&&a(t)},n.renderDisplayList=function(e){return e.length>0?r.a.createElement("ul",{className:"search-view__dropdown-list"},e.map((function(e){var t=e.key,a=e.value,i="search-view__li";return t===n.store.activeItemKey&&(i+=" search-view__li_active"),r.a.createElement("li",{key:t,onClick:n.onElementClickHandler.bind(Object(ne.a)(n),t),tabIndex:-1,className:i,onMouseOver:n.onElementMouseOverHandler.bind(Object(ne.a)(n),t)},a)}))):null},n.onElementMouseOverHandler=function(e){n.store.setActiveItemKey(e)},n.onInputFocusHandler=function(){n.store.setShowList(!0)},n.onFocusHandler=function(){clearTimeout(n.timeOutId)},n.onElementClickHandler=function(e){n.selectElement(e)},n.selectElement=function(e){Object(x.q)((function(){n.store.setShowList(!1),n.store.setValue("")}));var t=n.props.onListElementSelect;t&&t(e)},n.onBlurHandler=function(){n.timeOutId=setTimeout((function(){n.store.showList&&n.store.setShowList(!1)}))},n.store=new ae(e),n}return Object(l.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.handlerReaction=Object(x.n)((function(){return e.props.list}),(function(t){e.store.setList(t)}))}},{key:"render",value:function(){var e=this.store,t=e.showList,n=e.value,a=e.displayList,i=this.props.label,o=this.renderDisplayList(a);return r.a.createElement("div",{className:"search-view",ref:this.toggleContainer,onFocus:this.onFocusHandler,onKeyUp:this.onKeyAction},r.a.createElement("div",{className:"search-view__input-container"},r.a.createElement("input",{className:"search-view__input",ref:this.inputRef,value:n,onChange:this.onChange,onFocus:this.onInputFocusHandler,onBlur:this.onBlurHandler,placeholder:i}),t&&o))}}]),t}(r.a.Component),Y.defaultProps={displayList:[]},X=Z))||X,ie=n(16),oe=function(){var e=B.setCurrentLanguage,t=B.currentLanguage,n=B.dictionary,a=Object.entries(n).map((function(e){var t=Object(ie.a)(e,1)[0];return r.a.createElement("option",{value:t,key:t},t)}));return r.a.createElement("select",{value:t,onChange:function(t){e(t.target.value)}},a)},ce=(n(29),Object(h.b)("countriesStore")(ee=Object(h.c)(ee=function(e){function t(e){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).call(this,e))}return Object(l.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.countriesStore.getCountryList)()}},{key:"render",value:function(){var e=this.props.countriesStore,t=e.countryList,n=e.selectedCountry,a=e.setSelectedCountry;return e.isLoad?r.a.createElement("div",{className:"country"},r.a.createElement("div",{className:"country__bar"},r.a.createElement("div",{className:"country__search"},r.a.createElement(re,{list:t.map((function(e){var t=e.name;return{key:e.alpha3Code,value:t}})),onListElementSelect:a,label:R("Search")})),r.a.createElement("div",{className:"country__lang"},r.a.createElement(oe,null))),r.a.createElement("div",{className:"country__info"},n&&r.a.createElement(te,Object.assign({},n,{setSelectedCountry:a,countryList:t})))):r.a.createElement("div",{style:{paddingTop:"20px"}},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430")}}]),t}(r.a.Component))||ee)||ee),se=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).render=function(){return r.a.createElement("main",{className:"main-container"},r.a.createElement(ce,null))},n}return Object(l.a)(t,e),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(h.a,H,r.a.createElement(se,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[17,1,2]]]);
//# sourceMappingURL=main.92111480.chunk.js.map