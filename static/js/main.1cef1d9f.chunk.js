(this.webpackJsonpcountries_info=this.webpackJsonpcountries_info||[]).push([[0],{17:function(e,t,n){e.exports=n(30)},22:function(e,t,n){},23:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(11),o=n.n(i),c=(n(22),n(4)),s=n(9),u=n(7),l=n(8),p=(n(23),n(6)),h=n(5),f=n(10),b=n.n(f),d=n(13),m=n(3),v=n(2),y=(n(14),"https://restcountries.eu/rest/v2");function g(){return O.apply(this,arguments)}function O(){return(O=Object(d.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(y,"/all"));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var j,w,L,C,I,E,k,_,S,x=n(1),N=(j=function e(){var t=this;Object(c.a)(this,e),Object(m.a)(this,"countryList",w,this),Object(m.a)(this,"selectedCountry",L,this),Object(m.a)(this,"isLoad",C,this),this.getCountryList=Object(d.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoad=!1,e.next=4,g();case 4:n=e.sent,t.setCountryList(n);case 6:return e.prev=6,t.isLoad=!0,e.finish(6);case 9:case"end":return e.stop()}}),e,null,[[0,,6,9]])}))),Object(m.a)(this,"setCountryList",I,this),Object(m.a)(this,"setSelectedCountry",E,this),this.countryList=[]},w=Object(v.a)(j.prototype,"countryList",[x.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=Object(v.a)(j.prototype,"selectedCountry",[x.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=Object(v.a)(j.prototype,"isLoad",[x.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),I=Object(v.a)(j.prototype,"setCountryList",[x.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.countryList=t}}}),E=Object(v.a)(j.prototype,"setSelectedCountry",[x.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.selectedCountry=e.countryList.find((function(e){return e.alpha3Code===t}))}}}),j),K={en:{name:"English",translation:{Flag:"Flag",Country:"Country",Population:"Population",Capital:"Capital",Search:"Search",Borders:"Borders"}},ru:{name:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",translation:{Flag:"\u0424\u043b\u0430\u0433",Country:"\u0421\u0442\u0440\u0430\u043d\u0430",Population:"\u041d\u0430\u0441\u0435\u043b\u0435\u043d\u0438\u0435",Capital:"\u0421\u0442\u043e\u043b\u0438\u0446\u0430",Search:"\u041f\u043e\u0438\u0441\u043a",Borders:"\u0413\u0440\u0430\u043d\u0438\u0446\u0430"}},fr:{name:"Fran\xe7aise",translation:{Flag:"Drapeau",Country:"Pays",Population:"Population",Capital:"Capitale",Search:"Chercher"}}},z="lang",A="en",P=(k=function(){function e(){Object(c.a)(this,e),Object(m.a)(this,"currentLanguage",_,this),this.defaultLangLabels=void 0,this.dictionary=void 0,Object(m.a)(this,"setCurrentLanguage",S,this);var t=window.localStorage.getItem(z);t||(t=A,window.localStorage.setItem(z,t)),this.currentLanguage=t,this.defaultLangLabels=K[A],this.dictionary=K}return Object(p.a)(e,[{key:"currentLangLabels",get:function(){var e=K[this.currentLanguage];return e||{translation:{},name:""}}}]),e}(),_=Object(v.a)(k.prototype,"currentLanguage",[x.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(v.a)(k.prototype,"currentLangLabels",[x.e],Object.getOwnPropertyDescriptor(k.prototype,"currentLangLabels"),k.prototype),S=Object(v.a)(k.prototype,"setCurrentLanguage",[x.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.currentLanguage=t}}}),k),R=new N,F=new P,H={countriesStore:R,languageStore:F};function B(e){var t=F.currentLangLabels.translation[e];return(t=t||F.defaultLangLabels.translation[e])||""}n(27);var D,U,W=Object(h.c)(D=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).renderBordersList=function(e){if(e&&e.length>0){var t=n.props,a=t.countryList,i=t.setSelectedCountry,o=e.map((function(e){var t=a.find((function(t){return t.alpha3Code===e}));return r.a.createElement("li",{key:e,onClick:function(){return i(e)},className:"country-info__borders-list-item"},t?t.name:e)}));return r.a.createElement("div",null,B("Borders"),":",r.a.createElement("ul",{className:"country-info__borders-list"},o))}return null},n}return Object(l.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.flag,a=e.population,i=e.capital,o=e.borders,c=this.renderBordersList(o);return r.a.createElement("section",{className:"country-info"},n&&r.a.createElement("img",{src:n,alt:B("Flag"),className:"country-info__flag"}),r.a.createElement("div",{className:"country-info__description-container"},t&&r.a.createElement("div",null,B("Country"),": ",t),i&&r.a.createElement("div",null,B("Capital"),": ",i),a&&r.a.createElement("div",null,B("Population"),": ",a),c))}}]),t}(r.a.Component))||D,M=n(12);!function(e){e[e.up=0]="up",e[e.down=1]="down"}(U||(U={}));n(28);var T,V,J,$,q,G,Q,X,Y,Z,ee,te,ne,ae,re=(T=function(){function e(t){Object(c.a)(this,e),this.maxCount=10,Object(m.a)(this,"showList",V,this),Object(m.a)(this,"value",J,this),Object(m.a)(this,"list",$,this),Object(m.a)(this,"activeItemKey",q,this),Object(m.a)(this,"setShowList",G,this),Object(m.a)(this,"setValue",Q,this),Object(m.a)(this,"setList",X,this),Object(m.a)(this,"setActiveItemKey",Y,this),Object(m.a)(this,"moveActiveItem",Z,this),t.maxCount&&(this.maxCount=t.maxCount),this.list=t.list}return Object(p.a)(e,[{key:"displayList",get:function(){var e=this;if(""===this.value)return[];var t=this.list.filter((function(t){return t.value.toUpperCase().includes(e.value.toUpperCase())}));return t.length>this.maxCount&&(t.length=this.maxCount),t}},{key:"activeItemIndex",get:function(){var e=this;return this.displayList.findIndex((function(t){return t.key===e.activeItemKey}))}}]),e}(),V=Object(v.a)(T.prototype,"showList",[x.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),J=Object(v.a)(T.prototype,"value",[x.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),$=Object(v.a)(T.prototype,"list",[x.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=Object(v.a)(T.prototype,"activeItemKey",[x.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Object(v.a)(T.prototype,"displayList",[x.e],Object.getOwnPropertyDescriptor(T.prototype,"displayList"),T.prototype),Object(v.a)(T.prototype,"activeItemIndex",[x.e],Object.getOwnPropertyDescriptor(T.prototype,"activeItemIndex"),T.prototype),G=Object(v.a)(T.prototype,"setShowList",[x.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.showList=t,e.activeItemKey=""}}}),Q=Object(v.a)(T.prototype,"setValue",[x.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.value=t,e.activeItemKey=""}}}),X=Object(v.a)(T.prototype,"setList",[x.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.list=t,e.activeItemKey=""}}}),Y=Object(v.a)(T.prototype,"setActiveItemKey",[x.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.activeItemKey=t}}}),Z=Object(v.a)(T.prototype,"moveActiveItem",[x.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){if(e.displayList.length>0){var n=t===U.up?-1:1,a=-1!==e.activeItemIndex?(e.activeItemIndex+n+e.displayList.length)%e.displayList.length:t===U.down?0:e.displayList.length-1;e.activeItemKey=e.displayList[a].key}}}}),T),ie=Object(h.c)((ne=te=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).store=void 0,n.handlerReaction=void 0,n.toggleContainer=r.a.createRef(),n.inputRef=r.a.createRef(),n.timeOutId=void 0,n.onKeyAction=function(e){var t=n.store.moveActiveItem;switch(e.key){case"ArrowDown":t(U.down);break;case"ArrowUp":t(U.up);break;case"Enter":""!==n.store.activeItemKey&&(n.selectItem(n.store.activeItemKey),n.inputRef.current&&n.inputRef.current.blur());break;case"Escape":n.inputRef.current&&n.inputRef.current.blur()}},n.onChangeHandler=function(e){var t=n.props.onChange,a=e.target.value?e.target.value:"";n.store.setValue(a),t&&t(a)},n.onFocusHandler=function(){clearTimeout(n.timeOutId)},n.onInputBlurHandler=function(){n.timeOutId=setTimeout((function(){n.store.showList&&n.store.setShowList(!1)}))},n.onInputFocusHandler=function(){n.store.setShowList(!0)},n.renderDisplayList=function(e){return e.length>0?r.a.createElement("ul",{className:"search-view__dropdown-list"},e.map((function(e){var t=e.key,a=e.value,i="search-view__li";return t===n.store.activeItemKey&&(i+=" search-view__li_active"),r.a.createElement("li",{key:t,onClick:n.onElementClickHandler.bind(Object(M.a)(n),t),tabIndex:-1,className:i,onMouseOver:n.onElementMouseOverHandler.bind(Object(M.a)(n),t)},a)}))):null},n.onElementMouseOverHandler=function(e){n.store.setActiveItemKey(e)},n.onElementClickHandler=function(e){n.selectItem(e)},n.selectItem=function(e){var t=n.props.onListElementSelect;Object(x.p)((function(){n.store.setShowList(!1),n.store.setValue("")})),t&&t(e)},n.store=new re(e),n}return Object(l.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.handlerReaction=Object(x.m)((function(){return e.props.list}),(function(t){e.store.setList(t)}))}},{key:"render",value:function(){var e=this.store,t=e.showList,n=e.value,a=e.displayList,i=this.props.label,o=t?this.renderDisplayList(a):null;return r.a.createElement("div",{className:"search-view",ref:this.toggleContainer,onFocus:this.onFocusHandler,onKeyUp:this.onKeyAction},r.a.createElement("div",{className:"search-view__input-container"},r.a.createElement("input",{className:"search-view__input",ref:this.inputRef,value:n,onChange:this.onChangeHandler,onFocus:this.onInputFocusHandler,onBlur:this.onInputBlurHandler,placeholder:i}),t&&o))}}]),t}(r.a.Component),te.defaultProps={displayList:[]},ee=ne))||ee,oe=n(16),ce=Object(h.b)("languageStore")(Object(h.c)((function(e){var t=e.languageStore,n=t.setCurrentLanguage,a=t.currentLanguage,i=t.dictionary,o=Object.entries(i).map((function(e){var t=Object(oe.a)(e,2),n=t[0],a=t[1];return r.a.createElement("option",{value:n,key:n},a.name)}));return r.a.createElement("select",{value:a,onChange:function(e){n(e.target.value)}},o)}))),se=(n(29),Object(h.b)("countriesStore")(ae=Object(h.c)(ae=function(e){function t(e){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).call(this,e))}return Object(l.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.countriesStore.getCountryList)()}},{key:"render",value:function(){var e=this.props.countriesStore,t=e.countryList,n=e.selectedCountry,a=e.setSelectedCountry;return e.isLoad?r.a.createElement("div",{className:"country"},r.a.createElement("div",{className:"country__bar"},r.a.createElement("div",{className:"country__search"},r.a.createElement(ie,{list:t.map((function(e){var t=e.name;return{key:e.alpha3Code,value:t}})),onListElementSelect:a,label:B("Search")})),r.a.createElement("div",{className:"country__lang"},r.a.createElement(ce,null))),r.a.createElement("div",{className:"country__info"},n&&r.a.createElement(W,Object.assign({},n,{setSelectedCountry:a,countryList:t})))):r.a.createElement("div",{style:{paddingTop:"20px"}},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430")}}]),t}(r.a.Component))||ae)||ae),ue=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).render=function(){return r.a.createElement("main",{className:"main-container"},r.a.createElement(se,null))},n}return Object(l.a)(t,e),t}(r.a.Component),le=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function pe(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(h.a,H,r.a.createElement(ue,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/countries_info",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/countries_info","/service-worker.js");le?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):pe(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):pe(t,e)}))}}()}},[[17,1,2]]]);
//# sourceMappingURL=main.1cef1d9f.chunk.js.map